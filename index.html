<!DOCTYPE html>
<html>
<head>
  <title>Australian Climate Data Visualizations</title>
  <!-- Import Vega & Vega-Lite Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #map-container, #bar-pie-container, #line-chart-container {
      width: 100%;
      margin: 20px auto;
      text-align: center;
    }
    #bar-pie-container {
      display: flex;
      justify-content: space-around;
    }
    #bar-container, #pie-container {
      width: 45%;
    }
  </style>
</head>
<body>
  <!-- Title -->
  <h1>Australian Climate Data Visualizations</h1>

  <!-- Container for the map -->
  <div id="map-container">
    <!-- <h2>Rainfall Map</h2> -->
    <div id="visualization">Loading map...</div>
  </div>

  <!-- Bar and Pie chart containers side by side -->
  <div id="bar-pie-container">
    <!-- Container for the bar chart -->
    <div id="bar-container">
      <h2>Average Wind Speed by State</h2>
      <div id="wind">Loading bar chart...</div>
    </div>

    <!-- Container for the pie chart -->
    <div id="pie-container">
      <h2>Evapotranspiration by State</h2>
      <div id="evap">Loading pie chart...</div>
    </div>
  </div>

  <!-- Container for the line chart -->
  <div id="line-chart-container">
    <h2>Temperature Ranges by State</h2>
    <div id="chart">Loading line chart...</div>
  </div>

  <script type="text/javascript">
    // Rainfall map script
    var spec = "rainfall_map.vg.json";  
    vegaEmbed('#visualization', spec).then(function(result) {
      console.log("Rainfall map loaded successfully.");
    }).catch(function(error) {
      console.error("Error loading rainfall map:", error);
      document.getElementById('visualization').innerText = "Error loading map. Check console for details.";
    });

    // Bar chart script (wind speed)
    var barSpec = "wind_bar_vg.json";  
    vegaEmbed('#wind', barSpec).then(function(result) {
      console.log("Bar chart loaded successfully.");
    }).catch(function(error) {
      console.error("Error loading bar chart:", error);
      document.getElementById('wind').innerText = "Error loading chart. Check console for details.";
    });

    // Pie chart script (evapotranspiration)
    var pieSpec = "evap_pie_vg.json";  
    vegaEmbed('#evap', pieSpec).then(function(result) {
      console.log("Pie chart loaded successfully.");
    }).catch(function(error) {
      console.error("Error loading pie chart:", error);
      document.getElementById('evap').innerText = "Error loading chart. Check console for details.";
    });

    // Line chart script (temperature)
    var lineSpec = "temp_line_vg.json";  
    vegaEmbed('#chart', lineSpec).then(function(result) {
      console.log("Line chart loaded successfully.");
    }).catch(function(error) {
      console.error("Error loading line chart:", error);
      document.getElementById('chart').innerText = "Error loading chart. Check console for details.";
    });
  </script>
</body>
</html>
